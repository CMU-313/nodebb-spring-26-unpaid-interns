"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[10619,46923],{22410(_,w,s){var u,r;u=[s(91749),s(29930),s(49897)],r=(function(m,d,E){const a={};let g,f=0,c=!1,T,l=0;a.init=function(o,t){const n=$("body");typeof o=="function"?(g=o,T=n):(g=t,T=o||n),f=$(window).scrollTop(),$(window).off("scroll",h).on("scroll",h),n.height()<=$(window).height()&&(!ajaxify.data.hasOwnProperty("pageCount")||ajaxify.data.pageCount>1)&&g(1)};function h(){l&&clearTimeout(l),l=setTimeout(function(){l=0,p()},60)}function p(){if(D())return;const o=v(),t=C(o.currentScrollTop);P(o)&&g(t),f=o.currentScrollTop}function D(){const o=utils.findBootstrapEnvironment(),t=(o==="xs"||o==="sm")&&$("html").hasClass("composing");return c||t||app.flags._glance}function v(){const o=$(window).scrollTop(),t=$(window).height(),n=T.offset(),e=n?n.top:0,i=T.height()-t,A=i<=0?t:i,S=100*(o-e)/A;return{currentScrollTop:o,viewportHeight:i,scrollPercent:S}}function C(o){return o>f?1:-1}function P(o){const e=o.currentScrollTop<f,i=o.currentScrollTop>f;return!!(o.scrollPercent<15&&e||o.scrollPercent>85&&i||o.scrollPercent<0&&i&&o.viewportHeight<0)}return a.loadMore=function(o,t,n){if(c)return;c=!0;const e={method:o,data:t};m.fire("action:infinitescroll.loadmore",e),(e.method.startsWith("/")?E.get:socket.emit)(e.method,e.data,function(A,S){if(A)return c=!1,d.error(A);n(S,function(){c=!1})})},a.loadMoreXhr=function(o,t){if(c)return;c=!0;const n=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),e={url:n,data:o};m.fire("action:infinitescroll.loadmore.xhr",e),$.get(n,o,function(i){t(i,function(){c=!1})}).fail(function(i){c=!1,d.error(String(i.responseJSON||"[[error:no-connection]]"))})},a.removeExtra=function(o,t,n){let e=$();if(o.length<=n)return e;const i=o.length-n;if(t>0){const A=$(document).height(),S=$(window).scrollTop();e=o.slice(0,i).remove(),$(window).scrollTop(S+($(document).height()-A))}else e=o.slice(o.length-i).remove();return e},a}).apply(w,u),r!==void 0&&(_.exports=r)},76835(_,w,s){var u,r;u=[s(67910),s(22410),s(91749)],r=(function(m,d,E){const a={};let g,f=1;a.init=function(){m.init(),a.handleInfiniteScroll("account/topics")},a.handleInfiniteScroll=function(l){g=l,f=ajaxify.data.pagination.currentPage,config.usePagination||d.init(c)};function c(l){if(l<0)return;const h=utils.params();f+=1,h.page=f,d.loadMoreXhr(h,function(p,D){p.topics&&p.topics.length?T(p.topics,D):D()})}function T(l,h){app.parseAndTranslate(g,"topics",{topics:l},function(p){$('[component="category"]').append(p),p.find(".timeago").timeago(),E.fire("action:topics.loaded",{topics:l}),h()})}return a}).apply(w,u),r!==void 0&&(_.exports=r)},87645(_,w,s){var u,r;u=[s(67910),s(76835)],r=(function(m,d){const E={};return E.init=function(){m.init(),d.handleInfiniteScroll("account/ignored")},E}).apply(w,u),r!==void 0&&(_.exports=r)}}]);
