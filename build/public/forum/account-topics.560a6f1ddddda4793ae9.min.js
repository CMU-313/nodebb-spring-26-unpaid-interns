"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[46923],{22410(v,A,f){var m,u;m=[f(91749),f(29930),f(49897)],u=(function(w,T,D){const l={};let p,s=0,r=!1,g,c=0;l.init=function(o,t){const n=$("body");typeof o=="function"?(p=o,g=n):(p=t,g=o||n),s=$(window).scrollTop(),$(window).off("scroll",d).on("scroll",d),n.height()<=$(window).height()&&(!ajaxify.data.hasOwnProperty("pageCount")||ajaxify.data.pageCount>1)&&p(1)};function d(){c&&clearTimeout(c),c=setTimeout(function(){c=0,a()},60)}function a(){if(S())return;const o=C(),t=P(o.currentScrollTop);_(o)&&p(t),s=o.currentScrollTop}function S(){const o=utils.findBootstrapEnvironment(),t=(o==="xs"||o==="sm")&&$("html").hasClass("composing");return r||t||app.flags._glance}function C(){const o=$(window).scrollTop(),t=$(window).height(),n=g.offset(),e=n?n.top:0,i=g.height()-t,h=i<=0?t:i,E=100*(o-e)/h;return{currentScrollTop:o,viewportHeight:i,scrollPercent:E}}function P(o){return o>s?1:-1}function _(o){const e=o.currentScrollTop<s,i=o.currentScrollTop>s;return!!(o.scrollPercent<15&&e||o.scrollPercent>85&&i||o.scrollPercent<0&&i&&o.viewportHeight<0)}return l.loadMore=function(o,t,n){if(r)return;r=!0;const e={method:o,data:t};w.fire("action:infinitescroll.loadmore",e),(e.method.startsWith("/")?D.get:socket.emit)(e.method,e.data,function(h,E){if(h)return r=!1,T.error(h);n(E,function(){r=!1})})},l.loadMoreXhr=function(o,t){if(r)return;r=!0;const n=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),e={url:n,data:o};w.fire("action:infinitescroll.loadmore.xhr",e),$.get(n,o,function(i){t(i,function(){r=!1})}).fail(function(i){r=!1,T.error(String(i.responseJSON||"[[error:no-connection]]"))})},l.removeExtra=function(o,t,n){let e=$();if(o.length<=n)return e;const i=o.length-n;if(t>0){const h=$(document).height(),E=$(window).scrollTop();e=o.slice(0,i).remove(),$(window).scrollTop(E+($(document).height()-h))}else e=o.slice(o.length-i).remove();return e},l}).apply(A,m),u!==void 0&&(v.exports=u)},76835(v,A,f){var m,u;m=[f(67910),f(22410),f(91749)],u=(function(w,T,D){const l={};let p,s=1;l.init=function(){w.init(),l.handleInfiniteScroll("account/topics")},l.handleInfiniteScroll=function(c){p=c,s=ajaxify.data.pagination.currentPage,config.usePagination||T.init(r)};function r(c){if(c<0)return;const d=utils.params();s+=1,d.page=s,T.loadMoreXhr(d,function(a,S){a.topics&&a.topics.length?g(a.topics,S):S()})}function g(c,d){app.parseAndTranslate(p,"topics",{topics:c},function(a){$('[component="category"]').append(a),a.find(".timeago").timeago(),D.fire("action:topics.loaded",{topics:c}),d()})}return l}).apply(A,m),u!==void 0&&(v.exports=u)}}]);
